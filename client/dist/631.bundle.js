(self.webpackChunkteam_classix_fec=self.webpackChunkteam_classix_fec||[]).push([[631],{17631:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r,a,c,l,u=n(13391),i=n(92137),s=n(87757),o=n.n(s),f=n(67294),d=n(9669),p=n.n(d),v=n(20019),m=n(32465),h=n(29163),x=n(35780),E=h.ZP.div(r||(r=(0,m.Z)(["\n  display: flex;\n"]))),Z=h.ZP.div(a||(a=(0,m.Z)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]))),g=h.ZP.div(c||(c=(0,m.Z)(["\n  position: absolute;\n  width: 1180px;\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  pointer-events: none;\n"]))),k=h.ZP.div(l||(l=(0,m.Z)(["\n  color: #fff;\n  justify-content: center;\n  align-items: center;\n  background-color: #0000006e;\n  height: 402px;\n  display: flex;\n  width: 30px;\n  cursor: pointer;\n  pointer-events: all;\n"])));const w=function(e){var t=e.title,n=e.list,r=(0,f.useState)(0),a=(0,u.Z)(r,2),c=a[0],l=a[1],i=function(e){console.log("handleclick in preview list clicked");var t=c+4*e;t<0&&(t=0),l(t)};return f.createElement("div",null,f.createElement("h1",null,t," (",n.length,")"),n.length?f.createElement(E,null,f.createElement(g,null,f.createElement(k,{onClick:function(){return c>0&&i(-1)}},c>0&&f.createElement("i",{className:"fas fa-chevron-left"})),f.createElement(k,{onClick:function(){return c+4<n.length&&i(1)}},c+4<n.length&&f.createElement("i",{className:"fas fa-chevron-right"}))),f.createElement(Z,null,n.map((function(e,t){return t>=c&&t<4+c&&f.createElement(x.Z,{key:e.id,data:e})})))):f.createElement("div",null,"No Results Found"))};var b=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"GET",url:"/api/products/".concat(t,"/related")});case 3:return n=e.sent,e.abrupt("return",[null,n.data.data]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[e.t0]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return p()({method:"GET",url:"/api/products/".concat(e)})};const y=function(){var e=(0,f.useState)([]),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=(0,f.useState)([]),c=(0,u.Z)(a,2),l=(c[0],c[1],(0,f.useState)([])),s=(0,u.Z)(l,2),d=s[0],m=s[1],h=(0,f.useContext)(v.I).idState,x=(0,u.Z)(h,2),E=x[0];return x[1],console.log(E,"this is in relatedproducts"),(0,f.useEffect)((0,i.Z)(o().mark((function e(){var t,n,a,c,l,i,s,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("favorites"))?m(JSON.parse(t)):localStorage.setItem("favorites","[]"),e.next=4,b(E);case 4:if(n=e.sent,a=(0,u.Z)(n,2),c=a[0],l=a[1],!c){e.next=10;break}return e.abrupt("return");case 10:return i=l.map((function(e){return S(e)})),e.prev=11,e.next=14,p().all(i);case 14:s=e.sent,f=s.map((function(e){return e.data.data})),d=[],f.forEach((function(e){d.findIndex((function(t){return t.id===e.id}))<0&&d.push(e)})),r(d),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[11,21]])}))),[E]),f.createElement(v.c.Provider,{value:{favoriteState:l,useRelatedState:n}},f.createElement(w,{title:"Related Products",list:n}),f.createElement(w,{title:"Your Outfit",list:n.filter((function(e){return d.includes(e.id)}))}))}}}]);